<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Préfixer les variables dans le code utilisateur</title>
</head>
<body>
<h1>Transformation du code utilisateur</h1>
<textarea id="userCode" rows="10" cols="50">
function calculer() {
    return Math.PI * rayon * rayon;
}
const perimetre = 2 * (rayon * Math.PI);
    </textarea>
<br>
<label for="variables">Variables (séparées par des virgules) :</label>
<input type="text" id="variables" value="rayon, Math">
<br>
<button onclick="transformCode()">Transformer le code</button>
<h2>Code transformé :</h2>
<pre id="result"></pre>

<script type="module">
  import makeVariables from '../components/make-variables.js';

  window.transformCode = function () {
    const userCode = document.getElementById('userCode').value;
    const variables = document.getElementById('variables').value.split(',').map(v => v.trim());
    const result = document.getElementById('result');
    result.textContent = makeVariables()(userCode, variables);
  };
</script>
</body>
</html>
